(()=>{"use strict";var e={149:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackService=void 0;const o=i(926);t.PlaybackService=class{constructor(){this.currentVideo=null,this.isPlaying=!1,this.playbackMode="normal",this.videoElement=document.createElement("video"),this.historyService=new o.HistoryService}play(e){e&&e!==this.currentVideo&&this.loadVideo(e),this.videoElement.play().then(()=>{this.isPlaying=!0}).catch(e=>{console.error("Erro ao reproduzir vídeo:",e)})}pause(){this.videoElement.pause(),this.isPlaying=!1}stop(){this.videoElement.pause(),this.videoElement.currentTime=0,this.isPlaying=!1}next(e){if(!this.currentVideo||0===e.length)return null;let t;const i=e.findIndex(e=>{var t;return e.id===(null===(t=this.currentVideo)||void 0===t?void 0:t.id)});t="shuffle"===this.playbackMode?Math.floor(Math.random()*e.length):(i+1)%e.length;const o=e[t];return this.loadVideo(o),this.play(),o}previous(e){if(!this.currentVideo||0===e.length)return null;const t=e.findIndex(e=>{var t;return e.id===(null===(t=this.currentVideo)||void 0===t?void 0:t.id)}),i=e[(t-1+e.length)%e.length];return this.loadVideo(i),this.play(),i}setPlaybackMode(e){this.playbackMode=e,this.videoElement.loop="loop"===e}getPlaybackMode(){return this.playbackMode}loadVideo(e){this.currentVideo=e,this.videoElement.src=e.src,this.historyService.addToHistory(e)}getCurrentVideo(){return this.currentVideo}getVideoElement(){return this.videoElement}}},155:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistComponent=void 0,t.PlaylistComponent=class{constructor(e){this.playbackService=e,this.playlistElement=document.createElement("div"),this.playlistElement.className="playlist"}render(e,t){return this.playlistElement.innerHTML=`\n      <h3>${e.name}</h3>\n      <ul class="video-list">\n        ${e.videos.map(e=>`\n          <li class="video-item" data-video-id="${e.id}">\n            <img src="${e.thumbnail||"default-thumbnail.jpg"}" alt="${e.title}">\n            <span>${e.title}</span>\n          </li>\n        `).join("")}\n      </ul>\n    `,this.attachEvents(t),this.playlistElement}attachEvents(e){this.playlistElement.querySelectorAll(".video-item").forEach(t=>{t.addEventListener("click",()=>{var i;const o=t.getAttribute("data-video-id"),n=this.playlistElement.querySelector(`[data-video-id="${o}"]`);if(n){const t=null===(i=n.querySelector("span"))||void 0===i?void 0:i.textContent;e({id:o,title:t,src:"../videos/*",duration:0})}})})}}},601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistModel=t.VideoModel=void 0,t.VideoModel=class{constructor(e,t,i,o,n){this.id=e,this.title=t,this.src=i,this.duration=o,this.thumbnail=n}get thumbnailSrc(){return`${this.src}#t=5`}},t.PlaylistModel=class{constructor(e,t,i=[]){this.id=e,this.name=t,this.videos=i}addVideo(e){this.videos.push(e)}removeVideo(e){this.videos=this.videos.filter(t=>t.id!==e)}}},791:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayer=void 0;const o=i(149),n=i(895),s=i(155);t.VideoPlayer=class{constructor(e){this.currentPlaylist=null,this.container=e,this.playbackService=new o.PlaybackService,this.controls=new n.Controls(this.playbackService),this.playlistComponent=new s.PlaylistComponent(this.playbackService)}initialize(){this.container.innerHTML='\n      <div class="video-container">\n        <div class="video-wrapper"></div>\n        <div class="controls-container"></div>\n        <div class="playlist-container"></div>\n        <div class="history-container"></div>\n      </div>\n    ';const e=this.container.querySelector(".video-wrapper"),t=this.container.querySelector(".controls-container");this.container.querySelector(".playlist-container"),e.appendChild(this.playbackService.getVideoElement()),t.appendChild(this.controls.render(()=>this.nextVideo(),()=>this.previousVideo()))}loadPlaylist(e){this.currentPlaylist=e;const t=this.container.querySelector(".playlist-container");t.innerHTML="",this.currentPlaylist&&t.appendChild(this.playlistComponent.render(this.currentPlaylist,e=>{this.playbackService.play(e)}))}nextVideo(){this.currentPlaylist&&this.playbackService.next(this.currentPlaylist.videos)}previousVideo(){this.currentPlaylist&&this.playbackService.previous(this.currentPlaylist.videos)}setPlaybackMode(e){this.playbackService.setPlaybackMode(e)}}},895:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Controls=void 0,t.Controls=class{constructor(e){this.playbackService=e,this.controlsElement=document.createElement("div"),this.controlsElement.className="video-controls"}render(e,t){return this.controlsElement.innerHTML='\n      <button class="control-btn" id="play-btn">▶</button>\n      <button class="control-btn" id="pause-btn">⏸</button>\n      <button class="control-btn" id="stop-btn">⏹</button>\n      <button class="control-btn" id="prev-btn">⏮</button>\n      <button class="control-btn" id="next-btn">⏭</button>\n      <select class="control-select" id="mode-select">\n        <option value="normal">Normal</option>\n        <option value="loop">Loop</option>\n        <option value="shuffle">Aleatório</option>\n      </select>\n    ',this.attachEvents(e,t),this.controlsElement}attachEvents(e,t){const i=this.controlsElement.querySelector("#play-btn"),o=this.controlsElement.querySelector("#pause-btn"),n=this.controlsElement.querySelector("#stop-btn"),s=this.controlsElement.querySelector("#prev-btn"),l=this.controlsElement.querySelector("#next-btn"),r=this.controlsElement.querySelector("#mode-select");i.addEventListener("click",()=>this.playbackService.play()),o.addEventListener("click",()=>this.playbackService.pause()),n.addEventListener("click",()=>this.playbackService.stop()),s.addEventListener("click",t),l.addEventListener("click",e),r.addEventListener("change",()=>{this.playbackService.setPlaybackMode(r.value)})}}},926:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryService=void 0,t.HistoryService=class{constructor(){this.history=[],this.maxHistorySize=50}addToHistory(e){this.history=this.history.filter(t=>t.id!==e.id),this.history.unshift(e),this.history.length>this.maxHistorySize&&this.history.pop()}getHistory(){return[...this.history]}clearHistory(){this.history=[]}}}},t={};function i(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,i),s.exports}(()=>{const e=i(791),t=i(601),o=new t.PlaylistModel("1","Minha Playlist");o.addVideo(new t.VideoModel("1","Vídeo 1","video1.mp4",120)),o.addVideo(new t.VideoModel("2","Vídeo 2","video2.mp4",180)),o.addVideo(new t.VideoModel("3","Vídeo 3","video3.mp4",150)),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("video-player"),i=new e.VideoPlayer(t);i.initialize(),i.loadPlaylist(o)})})()})();